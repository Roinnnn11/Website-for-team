<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>节能减排</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: url("http://127.0.0.1:8000/static/img/780.jpg") no-repeat center center;
            background-size: cover;
            background-attachment: fixed;
            color: #fff;
            font-family: "Microsoft YaHei";
            min-height: 100vh;
            position: relative;
        }

        /* 添加一个遮罩层，使背景图片变暗，更容易看清前景内容 */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 21, 41, 0.7);
            z-index: 0;
        }

        html,
        body {
            height: 100%;
            overflow: hidden;
        }

        .container {
            position: relative;
            z-index: 1;
            height: 100vh;
            padding: 1vh 1vw;
            display: grid;
            grid-template-columns: 30% 40% 30%;
            grid-template-rows: 6vh 30vh 30vh 30vh;
            gap: 1vh 1vw;
        }

        .header {
            grid-column: 1 / 4;
            text-align: center;
            font-size: 2.4vh;
            line-height: 6vh;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
            animation: headerGlow 3s infinite;
        }

        .header::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent,
                    rgba(32, 167, 255, 0.2),
                    transparent);
            animation: headerScan 8s linear infinite;
        }

        .panel {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 4px;
            padding: 1vh 1vw;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 4px;
            background: linear-gradient(90deg,
                    rgba(32, 167, 255, 0),
                    rgba(32, 167, 255, 0.5),
                    rgba(32, 167, 255, 0)) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box,
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: destination-out;
            mask-composite: exclude;
        }

        .left-top::after {
            animation: borderFlow 4s linear infinite;
            animation-delay: 0s;
        }

        .left-middle::after {
            animation: borderFlow 4s linear infinite;
            animation-delay: -1s;
        }

        .right-top::after {
            animation: borderFlow 4s linear infinite;
            animation-delay: -2s;
        }

        .right-middle::after {
            animation: borderFlow 4s linear infinite;
            animation-delay: -3s;
        }

        .left-bottom::after {
            animation: borderFlow 4s linear infinite;
            animation-delay: -1.5s;
        }

        .right-bottom::after {
            animation: borderFlow 4s linear infinite;
            animation-delay: -2.5s;
        }

        .panel::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent,
                    rgba(32, 167, 255, 0.3),
                    transparent);
            animation: none;
        }

        .left-top {
            grid-column: 1 / 2;
            grid-row: 2 / 3;
        }

        .center {
            position: relative;
            flex: 2;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .center .panel-title {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            padding: 1vh 1vw;
            border-radius: 4px;
            margin-bottom: 1vh;
            font-size: 1.6vh;
            margin-bottom: 1vh;
            color: #fff;
            text-shadow: 0 0 10px rgba(32, 167, 255, 0.5);
            position: relative;
            padding-left: 15px;
        }

        .center-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 8px;
            height: 8px;
            background: #20a7ff;
            transform: translateY(-50%) rotate(45deg);
            animation: titlePulse 2s infinite;
        }

        .center-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            padding: 2vh 2vw;
        }

        .solar-power-station img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0.7;
            transition: all 0.3s ease;
            animation: float 6s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(32, 167, 255, 0.3));
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) scale(1);
                opacity: 0.7;
                filter: drop-shadow(0 0 10px rgba(32, 167, 255, 0.3));
            }

            50% {
                transform: translateY(-10px) scale(1.02);
                opacity: 0.9;
                filter: drop-shadow(0 0 20px rgba(32, 167, 255, 0.5));
            }
        }

        .right-top {
            grid-column: 3 / 4;
            grid-row: 2 / 3;
        }

        .left-middle {
            grid-column: 1 / 2;
            grid-row: 3 / 4;
        }

        .right-middle {
            grid-column: 3 / 4;
            grid-row: 3 / 4;
        }

        .left-bottom {
            grid-column: 1 / 2;
            grid-row: 4 / 5;
        }

        .right-bottom {
            grid-column: 3 / 4;
            grid-row: 4 / 5;
        }

        .panel-title {
            font-size: 1.6vh;
            margin-bottom: 1vh;
            color: #fff;
            background: url("http://127.0.0.1:8000/static/img/eb3a4fb2d2d33ccb4956d0b725ef7bdc.png") no-repeat center center;
            background-size: cover;
            text-align: center;
            /* background-attachment: fixed; */
        }

        .number-group {
            display: flex;
            justify-content: space-around;
            margin-bottom: 2vh;
        }

        .number-item {
            text-align: center;
        }

        .number-value {
            font-size: 3vh;
            color: #ffd700;
        }

        .number-label {
            font-size: 1.4vh;
            color: #8c8c8c;
        }

        .center-data {
            display: flex;
            justify-content: space-evenly;
            align-items: center;
            margin: 1vh 0;
        }

        .center-data div {
            text-align: center;
        }

        .center-dataSum-value {
            font-size: 2.8vh;
            color: #20a7ff;
            text-shadow: 0 0 10px rgba(32, 167, 255, 0.8);
            animation: enhancedNumberPulse 2s infinite;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .center-dataSum-title {
            font-size: 1.4vh;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 0.5vh;
        }

        @keyframes scanning {
            0% {
                transform: rotate(45deg) translateY(0);
            }

            100% {
                transform: rotate(45deg) translateY(100%);
            }
        }

        @keyframes panelFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes titlePulse {

            0%,
            100% {
                box-shadow: 0 0 5px #20a7ff;
            }

            50% {
                box-shadow: 0 0 15px #20a7ff;
            }
        }

        @keyframes numberPulse {

            0%,
            100% {
                text-shadow: 0 0 10px rgba(32, 167, 255, 0.5);
            }

            50% {
                text-shadow: 0 0 20px rgba(32, 167, 255, 0.8);
            }
        }

        @keyframes headerGlow {

            0%,
            100% {
                box-shadow: 0 0 10px rgba(32, 167, 255, 0.3);
            }

            50% {
                box-shadow: 0 0 20px rgba(32, 167, 255, 0.5);
            }
        }

        @keyframes headerScan {
            0% {
                left: -100%;
            }

            100% {
                left: 200%;
            }
        }

        #industry-chart,
        #new-chart1,
        #new-chart2,
        #skills-chart,
        #personnel-chart,
        #region-chart {
            opacity: 1;
            /* height: 100%; */
            height: calc(100% - 4vh);
            position: relative;
            z-index: 1;
            font-size: 12px !important;
        }

        .panel:hover::after {
            opacity: 0.5;
            transition: opacity 0.3s ease;
        }

        @keyframes enhancedNumberPulse {
            0% {
                text-shadow: 0 0 10px rgba(32, 167, 255, 0.8);
                transform: scale(1);
            }

            50% {
                text-shadow: 0 0 25px rgba(32, 167, 255, 1),
                    0 0 35px rgba(32, 167, 255, 0.8);
                transform: scale(1.05);
                color: #5cbbff;
            }

            100% {
                text-shadow: 0 0 10px rgba(32, 167, 255, 0.8);
                transform: scale(1);
            }
        }

        @keyframes borderFlow {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        .center-power-display {
            position: relative;
            width: 100%;
            height: 200px;
            background: rgba(0, 24, 75, 0.8);
            border: 1px solid #016ae0;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }

        .appliance-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding: 10px;
        }

        .appliance-card {
            background: rgba(0, 38, 89, 0.8);
            border: 1px solid #0177ff;
            border-radius: 8px;
            padding: 0.1rem;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .appliance-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 15px rgba(1, 119, 255, 0.3);
        }

        .appliance-card img {
            width: 40px;
            height: 40px;
            margin-bottom: 5px;
        }

        .appliance-info h3 {
            color: #fff;
            font-size: 14px;
            margin: 5px 0;
        }

        .power-info {
            display: flex;
            justify-content: center;
            align-items: baseline;
            margin: 5px 0;
        }

        .power-value {
            color: #00ff9d;
            font-size: 18px;
            font-weight: bold;
            font-family: 'Digital-7', sans-serif;
        }

        .power-unit {
            color: #00ff9d;
            font-size: 12px;
            margin-left: 3px;
        }

        .power-status {
            color: #ff4d4d;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 8px;
            background: rgba(255, 77, 77, 0.1);
        }

        .power-status.active {
            color: #00ff9d;
            background: rgba(0, 255, 157, 0.1);
        }

        @keyframes powerPulse {
            0% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.6;
            }
        }

        .power-value {
            animation: powerPulse 2s infinite;
        }

        .map-container {
            flex: 1;
            width: 100%;
            margin-top: 50px;
            position: relative;
        }

        .solar-power-station {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .solar-power-station img {
            width: 80%;
            height: auto;
            object-fit: contain;
        }

        /* 太阳能板发光效果 */
        .solar-panel-glow {
            position: absolute;
            top: 20%;
            left: 15%;
            width: 40%;
            height: 30%;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.2) 0%, rgba(0, 255, 255, 0) 70%);
            animation: panelGlow 4s infinite;
        }

        /* 能量流动效果 */
        .energy-flow {
            position: absolute;
            top: 30%;
            left: 45%;
            width: 2px;
            height: 20%;
            background: linear-gradient(to bottom, rgba(0, 255, 255, 0.8), rgba(0, 255, 255, 0));
            animation: energyFlow 2s infinite;
        }

        /* 建筑物灯光效果 */
        .building-lights {
            position: absolute;
            top: 40%;
            right: 25%;
            width: 15%;
            height: 30%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 70%);
            animation: buildingLights 3s infinite;
        }

        /* 动画关键帧 */
        @keyframes panelGlow {
            0% {
                opacity: 0.3;
            }

            50% {
                opacity: 0.8;
            }

            100% {
                opacity: 0.3;
            }
        }

        @keyframes energyFlow {
            0% {
                transform: translateY(0);
                opacity: 0;
            }

            50% {
                opacity: 1;
            }

            100% {
                transform: translateY(100%);
                opacity: 0;
            }
        }

        @keyframes buildingLights {
            0% {
                opacity: 0.3;
            }

            50% {
                opacity: 0.7;
            }

            100% {
                opacity: 0.3;
            }
        }

        /* 添加悬停效果 */
        .solar-power-station:hover img {
            transform: scale(1.02);
            transition: transform 0.3s ease;
        }

        /* 添加响应式光晕效果 */
        .solar-power-station::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 255, 255, 0) 100%);
            pointer-events: none;
            animation: ambientGlow 8s infinite;
        }

        @keyframes ambientGlow {
            0% {
                opacity: 0.3;
            }

            50% {
                opacity: 0.6;
            }

            100% {
                opacity: 0.3;
            }
        }

        .c-panel-title {
            display: flex;
            justify-content: space-evenly;
            text-align: center;
        }

        .c-panel-title h4 {
            text-align: center;
        }
        /* 添加子网页相关样式 */
        .link-box {
            display: block;
            border: 2px solid rgba(1, 119, 255, 0.3); /* 设置边框 */
            border-radius: 8px; /* 圆角 */
            padding: 20px; /* 内边距 */
            text-decoration: none; /* 去除链接的下划线 */
            background-color: rgba(0, 24, 75, 0.8); /* 背景色 */
            transition: all 0.3s ease; /* 动画效果 */
        }

        .link-box:hover {
            background-color: #e0e0e0; /* 鼠标悬停时改变背景色 */
            border-color: #888; /* 鼠标悬停时改变边框颜色 */
        }
    </style>
    <script type="text/javascript" src="http://127.0.0.1:8000/static/js/echarts.min.js"></script>
    <script src="http://127.0.0.1:8000/static/js/jquery.min.js"></script>
    <!-- <script src="../static/js/jquery.min.js"></script>
    <script src="../static/js/echarts.min.js"></script> -->
    <!-- <script type="text/javascript" src="https://assets.pyecharts.org/assets/v5/themes/infographic.js"></script>
    <script type="text/javascript" src="https://assets.pyecharts.org/assets/v5/themes/roma.js"></script> -->
</head>

<body>
    <div class="container">
        <div class="header">节能减排—楼宇能耗预测可视化展板</div>

        <!-- 左上角柱状图 -->
        <div class="panel left-top">
            <div class="panel-title">光伏发电情况 (kwh)</div>
            <div id="industry-chart"></div>
        </div>

        <!-- 左中部图表 -->
        <div class="panel left-middle">
            <div class="panel-title">下月用电预测 (kwh)</div>
            <!-- <div class="panel-title">电器功率柱状图</div>

            <div id="new-chart2"></div> -->
            <div id="new-chart1"></div>
        </div>

        <!-- 中间区域 -->
        <div class="center">
            <div class="panel-title c-panel-title">
                <div>
                    <h3>下月用电预测</h3>
                    <h4>690.8度</h4>
                </div>
                <div>

                    <h3>下月应购电量</h3>
                    <h4>725度</h4>
                </div>
            </div>

            <!-- 新增的电器功耗展示模块 -->
            <div class="center-power-display">
                <a href="/new" class="link-box">
                    <div class="panel-title c-panel-title">发电预测端影响因素</div>
                </a>
                    
                <!-- <div class="panel-title">发电预测端影响因素</div> -->
                <div class="appliance-grid">
                    <div class="appliance-card">
                        <!-- <img src="http://127.0.0.1:8000/static/images/airconditioner.png" alt="空调"> -->
                        <div class="appliance-info">
                            <h3>CPA/CPAM</h3>
                            <div class="power-info">
                                <span class="power-value">≈1</span>
                                <!-- <span class="power-unit">W</span> -->
                            </div>
                        </div>
                    </div>

                    <div class="appliance-card">
                        <!-- <img src="http://127.0.0.1:8000/static/images/waterheater.png" alt="热水器"> -->
                        <div class="appliance-info">
                            <h3>GHI</h3>
                            <div class="power-info">
                                <span class="power-value">0.85-0.97</span>
                                <!-- <span class="power-unit">W</span> -->
                            </div>
                        </div>
                    </div>

                    <div class="appliance-card">
                        <!-- <img src="http://127.0.0.1:8000/static/images/washer.png" alt="洗衣机"> -->
                        <div class="appliance-info">
                            <h3>RGT</h3>
                            <div class="power-info">
                                <span class="power-value">0.85-0.97</span>
                                <!-- <span class="power-unit">W</span> -->
                            </div>
                        </div>
                    </div>

                    <div class="appliance-card">
                        <!-- <img src="http://127.0.0.1:8000/static/images/microwave.png" alt="微波炉"> -->
                        <div class="appliance-info">
                            <h3>TEMP</h3>
                            <div class="power-info">
                                <span class="power-value">0.76-0.78</span>
                                <!-- <span class="power-unit">W</span> -->
                            </div>
                        </div>
                    </a>
                    </div>

                    <!-- <div class="appliance-card">
                        <img src="http://127.0.0.1:8000/static/images/oven.png" alt="电烤箱">
                        <div class="appliance-info">
                            <h3>电烤箱</h3>
                            <div class="power-info">
                                <span class="power-value">2200</span>
                                <span class="power-unit">W</span>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>

            <!-- 原有的地图展示部分 -->
            <div class="map-container">
                <div class="solar-power-station">
                    <img src="http://127.0.0.1:8000/static/img/IMG_8101.PNG" alt="太阳能发电站">

                </div>
            </div>
        </div>

        <!-- 右上角技能掌握度 -->
        <div class="panel right-top">
            <div class="panel-title">每周应购电量 (kwh)</div>
            <div id="skills-chart"></div>
        </div>

        <!-- 右中部图表 -->
        <div class="panel right-middle">
            <div class="panel-title">电器能耗 (kwh/24h)</div>
            <!-- <div class="panel-title">用电预测</div>

            <div id="new-chart1"></div> -->
            <div id="new-chart2"></div>
        </div>

        <!-- 左下角折线图 -->
        <div class="panel left-bottom">
            <div class="panel-title">电力峰谷排序</div>
            <div id="personnel-chart"></div>
        </div>

        <!-- 右下角饼图 -->
        <div class="panel right-bottom">
            <div class="panel-title">电量预估对比(kwh)</div>
            <div id="region-chart"></div>
        </div>
    </div>

    <!-- <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="static/js/charts.js"></script> -->
</body>

<script>

    // 面积图-折线图
    var chartDom = document.getElementById('industry-chart');
    var myChart = echarts.init(chartDom);
    var option;

    option = {
        grid: {
            left: '3%',
            right: '3%',
            top: '5%',
            bottom: '0%',
            containLabel: true // 根据需要设置，如果需要标签完整显示则设置为 true
        },
        // backgroundColor: '#0e1a2b', // 深蓝色背景
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            }
        },
        yAxis: {
            type: 'value',
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#555'
                }
            }
        },
        series: [
            {
                data: [2.7, 2.2, 1.8, 3.7, 3.7, 3.5, 3.7],
                type: 'line',
                smooth: true,
                lineStyle: {
                    color: '#00bfff',
                    width: 2
                },
                itemStyle: {
                    color: '#00bfff',
                    borderColor: '#fff',
                    borderWidth: 2
                },
                areaStyle: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        { offset: 0, color: 'rgba(0, 191, 255, 0.8)' },
                        { offset: 1, color: 'rgba(0, 191, 255, 0.1)' }
                    ])
                },
                emphasis: {
                    focus: 'series'
                }
            }
        ]
    };

    option && myChart.setOption(option);



    // 柱状图
    var chartDom2 = document.getElementById('skills-chart');
    var myChart2 = echarts.init(chartDom2);
    var option2;
    ydata = [22.1, 22.9, 23.1, 20.6, 21, 21.1, 20.5];
    option2 = {
        grid: {
            left: '3%',
            right: '3%',
            top: '5%',
            bottom: '0%',
            containLabel: true // 根据需要设置，如果需要标签完整显示则设置为 true
        },
        xAxis: {
            type: 'category',
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            }
        },
        yAxis: {
            type: 'value',
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#555'
                }
            }
        },
        tooltip: {
            trigger: 'axis',  // 触发类型为 axis，表示鼠标悬停时显示轴上的所有数据
            // axisPointer: {
            //     type: 'shadow'  // 设置鼠标悬停时显示的指示器类型
            // },
            formatter: function (params) {  // 定义显示的内容
                var result = params[0].name + '<br>';  // 获取 x 轴的值
                // params.forEach(function (item) {
                result += '应购电量: ' + params[1].value + '<br>';  // 显示系列名称和对应的值
                // });
                return result;
            },
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        series: [
            {
                name: "顶部圆片",
                type: 'pictorialBar',
                symbol: 'circle',

                silent: true,
                symbolSize: [35, 15], // 直径和高度
                symbolOffset: [0, 5], // 向下偏移
                z: 10,
                data: [0, 0, 0, 0, 0, 0, 0],
                itemStyle: {
                    color: 'rgba(255, 255, 255, 0.7)'
                }
            },
            {
                name: "顶部圆片",
                type: 'pictorialBar',
                symbol: 'circle',
                silent: true,
                symbolSize: [35, 15], // 直径和高度
                symbolOffset: [0, -5], // 向下偏移
                symbolPosition: 'end',
                z: 12,
                data: ydata,
                itemStyle: {
                    color: '87ceeb'
                }
            }
            ,
            {
                data: ydata,
                type: 'bar',
                z: 11,
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                { offset: 0, color: '#00bfff' },
                                { offset: 1, color: '#87ceeb' }
                            ]
                        ),
                        // borderRadius: [0, 0, 5, 5],
                        // 自定义图形
                        // barBorderRadius: [50, 50, 0, 0],
                        // 这里通过 border-radius 来模拟三角形形状
                        borderColor: 'rgba(0, 0, 0, 0.2)',
                        // borderWidth: 1
                    }
                }
            },
        ]
    };
    option2 && myChart2.setOption(option2);

    // 
    var chartDom3 = document.getElementById('new-chart1');
    var myChart3 = echarts.init(chartDom3);
    var option3;
    option3 = {
        grid: {
            left: '3%',
            right: '3%',
            top: '5%',
            bottom: '0%',
            containLabel: true // 根据需要设置，如果需要标签完整显示则设置为 true
        },
        tooltip: {
            trigger: 'axis'
        },
        xAxis: {
            type: 'category',
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            }
        },
        yAxis: {
            type: 'value',
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#555'
                }
            }
        },
        series: [
            {
                type: 'pictorialBar',
                symbol: 'path://M10 600 Q 95 0 180 600', // 定义山峰形状
                symbolSize: ['100%', '100%'], // 使图形填充整个柱子
                symbolOffset: [0, 0], // 将图形垂直居中
                symbolPosition: 'end', // 图形在柱子的顶部
                data: [24.8, 25.1, 24.9, 24.3, 24.7, 24.6, 24.2],
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                { offset: 0, color: '#00bfff' },
                                { offset: 1, color: '#87ceeb' }
                            ]
                        )
                    }
                }
            }
        ]
    };
    option3 && myChart3.setOption(option3);

    // 获取图表容器元素
    var chartDom4 = document.getElementById('new-chart2');
    // 初始化 ECharts 实例
    var myChart4 = echarts.init(chartDom4);
    var option4;
   option4 = {
    grid: {
        left: '3%',
        right: '6%',
        top: '5%',
        bottom: '0%',
        containLabel: true // 根据需要设置，如果需要标签完整显示则设置为 true
    },
    // 开启 tooltip 组件，用于鼠标悬停显示数据
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        }
    },
    xAxis: {
        type: 'value',
        axisLine: {
            lineStyle: {
                color: '#ffffff'
            }
        },
        axisLabel: {
            color: '#ffffff'
        }
    },
    yAxis: {
        type: 'category',
        data: ['空调', '热水器', '洗衣机', '冰箱', '热水壶', '灯具', '电视机'],
        axisLine: {
            lineStyle: {
                color: '#ffffff'
            }
        },
        axisLabel: {
            color: '#ffffff'
        },
        splitLine: {
            lineStyle: {
                type: 'dashed',
                color: '#555'
            }
        }
    },
    series: [
        {
            data: [5.6, 2.7, 1.3, 1.2, 0.6, 0.5, 0.5],
            type: 'bar',
            name: '柱状图',
            itemStyle: {
                color: {
                    type: 'linear',
                    x: 0,
                    y: 0,
                    x2: 1,
                    y2: 1,
                    colorStops: [
                        { offset: 0, color: '#00008B' }, // 深蓝
                        { offset: 1, color: '#87CEEB' }  // 浅蓝
                    ],
                    global: false // 缺省为 false
                }
            }
        }
    ]
};
    // 如果 option4 存在，则设置 ECharts 实例的选项
    option4 && myChart4.setOption(option4);
    // 为personnel-chart元素添加饼图
    var chartDom5 = document.getElementById('personnel-chart');
    var myChart5 = echarts.init(chartDom5);
    var option5;
   option5 = {
    grid: {
        left: '3%',
        right: '3%',
        top: '5%',
        bottom: '0%',
        containLabel: true // 根据需要设置，如果需要标签完整显示则设置为 true
    },
    tooltip: {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        textStyle: {
            color: '#ffffff'
        }
    },
    color: ['#00008B', '#0000CD', '#1E90FF', '#4682B4', '#87CEEB'], // 自定义颜色从深蓝到浅蓝
    series: [
        {
            name: 'Access From',
            type: 'funnel',
            left: '10%',
            top: '10%',
            bottom: '10%',
            width: '90%',
            min: 0,
            max: 1500,
            minSize: '0%',
            maxSize: '100%',
            sort: 'descending',
            label: {
                show: true,
                position: 'inside'
            },
            labelLine: {
                show: false
            },
            itemStyle: {
                borderColor: '#fff',
                borderWidth: 1
            },
            data: [
                { value: 600, name: '9,20,21,10时' },
                { value: 500, name: '18,22,11,8时' },
                { value: 400, name: '12,23,9,13时' },
                { value: 300, name: '17,14,15,16时' },
                { value: 200, name: '7,0,6,1时' },
                { value: 100, name: '5,2,4,3时' }
            ]
        }
    ]
};
    option5 && myChart5.setOption(option5);

    // 获取图表容器元素
    var chartDom6 = document.getElementById('region-chart');
    // 初始化 ECharts 实例
    var myChart6 = echarts.init(chartDom6);
    var option6;

    // 原数据
    var lastMonthData = [190, 120, 188, 384];
    var nextMonthData = [95, 283, 116, 154];

    // 找出所有数据中的最小值和最大值
    var allData = lastMonthData.concat(nextMonthData);
    var minValue = Math.min(...allData);
    var maxValue = Math.max(...allData);

    // 计算合理的纵坐标轴最小值、最大值和间隔
    var step = Math.ceil((maxValue - minValue) / 5); // 假设分成 5 个间隔
    var yMin = Math.floor(minValue / step) * step;
    var yMax = Math.ceil(maxValue / step) * step;

    option6 = {
    grid: {
        left: '3%',
        right: '5%',
        top: '18%',
        bottom: '0%',
        containLabel: true // 根据需要设置，如果需要标签完整显示则设置为 true
    },
    // 提示框配置
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985',
            }
        }
    },
    // 图例配置
    legend: {
        textStyle: {
            color: '#ffffff',
            fontSize:8
        }
    },
    // 工具盒配置
    toolbox: {
        feature: {
            magicType: { show: true, type: ['line', 'bar'] },
            saveAsImage: { show: true }
        },
        iconStyle: {
            borderColor: '#ffffff'


        }
    },
    // 双 Y 轴配置
    yAxis: [
        {
            type: 'value',
            min: yMin,
            max: yMax,
            interval: step,
            axisLabel: {
                formatter: '{value}'
            },
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#555'
                }
            }
        },
        {
            type: 'value',
            min: yMin,
            max: yMax,
            interval: step,
            axisLabel: {
                formatter: '{value}'
            },
            axisLine: {
                lineStyle: {
                    color: '#ffffff'
                }
            },
            axisLabel: {
                color: '#ffffff'
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#555'
                }
            }
        }
    ],
    // 横轴配置
    xAxis: {
        type: 'category',
        data: ['第一周', '第二周', '第三周', '第四周']
    },
    // 系列配置
    series: [
        {
            name: '上个月用电量',
            type: 'bar',
            data: lastMonthData,
            itemStyle: {
                color: {
                    type: 'linear',
                    x: 0,
                    y: 1,
                    x2: 0,
                    y2: 0,
                    colorStops: [
                        { offset: 0, color: '#00008B' }, // 深蓝
                        { offset: 1, color: '#87CEEB' }  // 浅蓝
                    ],
                    global: false // 缺省为 false
                }
            }
        },
        {
            name: '下个月预测用电量',
            type: 'bar',
            yAxisIndex: 1,
            data: nextMonthData,
            itemStyle: {
                color: {
                    type: 'linear',
                    x: 0,
                    y: 1,
                    x2: 0,
                    y2: 0,
                    colorStops: [
                        { offset: 0, color: '#00008B' }, // 深蓝
                        { offset: 1, color: '#00bfff' }  // 浅蓝
                    ],
                    global: false // 缺省为 false
                }
            }
        }
    ]
};

// 如果 option6 存在，则设置 ECharts 实例的配置项
option6 && myChart6.setOption(option6);
function myChart2Resize() {
    // 计算新的 symbolSize
    var newSymbolSize = [35 * (window.innerWidth / 1550), 15 * (window.innerHeight / 1080)]; // 根据需要调整比例

    // 更新图表配置
    myChart2.setOption({
        series: [
            {
                name: "顶部圆片",
                type: 'pictorialBar',
                symbol: 'circle',
                silent: true,
                symbolSize: newSymbolSize,
                symbolOffset: [0, 5],
                z: 10,
                data: [0, 0, 0, 0, 0, 0, 0],
                itemStyle: {
                    color: 'rgba(255, 255, 255, 0.7)'
                }
            },
            {
                name: "顶部圆片",
                type: 'pictorialBar',
                symbol: 'circle',
                silent: true,
                symbolSize: newSymbolSize,
                symbolOffset: [0, -5],
                symbolPosition: 'end',
                z: 12,
                data: ydata,
                itemStyle: {
                    color: '87ceeb'
                }
            }
        ]
    });

    // 调用 resize 方法
    myChart2.resize();
}
window.addEventListener('resize',myChart2Resize());
myChart2Resize()
</script>

</html>